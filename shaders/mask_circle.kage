//kage:unit pixels
package main

func Fragment(targetCoords vec4, sourceCoords vec2, _ vec4, customVAs vec4) vec4 {
	srcColor := imageSrc0UnsafeAt(sourceCoords)
	relCoords := targetCoords.xy - imageDstOrigin()
	origin := customVAs.xy
	hardRadius, softEdge := customVAs[2], customVAs[3]
	dist := distance(relCoords, origin)
	return srcColor * (1.0 - smoothstep(hardRadius, hardRadius+softEdge, dist))
}
